<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <link rel="stylesheet" href="https://cdn.fluidplayer.com/v2/current/fluidplayer.min.css" type="text/css" />
    <script src="fluidplayer.js"></script>
</head>
<style>
    body {
        margin: 0;
        background: white
    }

    .player {
        -webkit-transition: width 3s, height 3s, margin 3s, left 2s;
        transition: width 3s, height 3s, margin 3s, left 2s;
    }

    #menu ul {
        font-size: 20px;
        font-family: steelfishEb;
        list-style-type: none;
        display: inline;
    }

    #menu ul li {
        float: left;
        margin: 0px 0px;
        padding: 0 5px 5px 5px;
        text-align: center;
        cursor: pointer;
    }

    #menu ul li:hover {
        border-bottom: 5px solid #ffe200;
    }

    #menu ul li a {
        color: #ffe200;
        text-decoration: none
    }

    #menu ul li.active {
        border-bottom: 5px solid #ffe200;
    }

    @font-face {
        font-family: steelfishEb;
        src: url(assets/steelfish_eb.otf);
    }

    @font-face {
        font-family: bahnschrift;
        src: url(assets/bahnschrift.ttf);
    }

    .dropdown-link {
        float: left;
        width: 100%;
        color: #ffe200;
        text-decoration: none;
        font-size: 24px;
        font-family: steelfishEb;
        text-align: center;
        padding: 10px 0px;
        border: 1px solid;
        box-sizing: border-box;
        -moz-box-sizing: border-box;
        -webkit-box-sizing: border-box;
    }

    .thumbnail-videos {
        height: 60px;
        padding: 15px;
        margin-top: 10px;
        display: none
    }

    .thumb-video {
        float: left;
        margin: 0 5px;
        height: 60px;
        width: 100px;
        background: red;
        cursor: pointer;
        overflow: hidden;
        outline: 1px solid #ffffff;
    }

    .stopped::after {
        content: url(assets/play.png);
        margin: 5px auto;
        display: block;
        width: 40px;
        height: 40px;
    }

    .currentVideo {
        outline: 3px solid #b29813 !important;
    }

    /* The device with borders */
    .smartphone {
        position: relative;
        width: 360px;
        height: 640px;
        margin: auto;
        border: 16px black solid;
        border-top-width: 60px;
        border-bottom-width: 60px;
        border-radius: 36px;
        overflow: hidden;
    }

    /* The horizontal line on the top of the device */
    .smartphone:before {
        content: '';
        display: block;
        width: 60px;
        height: 5px;
        position: absolute;
        top: -30px;
        left: 50%;
        transform: translate(-50%, -50%);
        background: #333;
        border-radius: 10px;
    }

    /* The circle on the bottom of the device */
    .smartphone:after {
        content: '';
        display: block;
        width: 35px;
        height: 35px;
        position: absolute;
        left: 50%;
        bottom: -65px;
        transform: translate(-50%, -50%);
        background: #333;
        border-radius: 50%;
    }

    /* The screen (or content) of the device */
    .smartphone .content {
        width: 360px;
        height: 640px;
        background: white;
    }

    /* demo*/

    .header-container {
        height: 60px;
        border-bottom: 1px solid #e6ebf0;
        padding: 0 10px;
    }

    .header {
        width: 100%;
        height: 100%;
        position: relative;
        margin: 0 auto;
    }

    .header img {
        padding: 10px 0 0 0
    }

    .container {
        padding: 0px 10px;
        position: relative;
        margin: 0 auto;

        display: block;
    }
</style>

<body>
    <div class="googlechrome">
        <img src="assets/demo/googlechrome.png" width="100%">
    </div>
    <div class="container" id="container">
        <div class="header-container">
            <div class="header">
                <img src="assets/demo/vidoomy.png">
            </div>
        </div>
        <div class="title">
            <img src="assets/demo/wireframe-title.png" width="200px">
        </div>
        <div id="wrapper" style="width:100%;margin-top:10px">
            <div id="player" class="player" style="width:100%;height:100%">
                <video id="video-id" muted>
                    <source src="assets/videos/video1.mp4" type="video/mp4" />
                </video>
            </div>
            <div class="thumbnail-videos" id="thumbnail-videos">
                <div class="thumb-video currentVideo" id="thumb-video-1" data-src="assets/videos/video1.mp4"
                    style="background-image:url('assets/thumb1.png');background-size: 110px;">
                </div>
                <div class="thumb-video stopped" id="thumb-video-2" data-src="assets/videos/video2.mp4"
                    style="background-image:url('assets/thumb2.png');background-size: 110px;">
                </div>
                <div class="thumb-video stopped" id="thumb-video-3" data-src="assets/videos/video3.mp4"
                    style="background-image:url('assets/thumb3.png');background-size: 110px;">
                </div>
            </div>
        </div>
        <div class="bottom">
            <img src="assets/demo/wireframe-bottom-mobile.png" style="width: 330px;
                    margin-top: 15px;">
        </div>
    </div>

    <script>
        var removeIfExists = function (ids) {
            ids.map(id => {
                document.getElementById(id) ? document.getElementById(id).remove() : null
            })
        }

        var tapOnVideo = function () {

            if (document.getElementById('sidebar') || document.getElementById('header')) {
                console.log('ya existen las divs')
            } else {
                /*
                #TODO:
                    • Dejar Divs exactamente iguales al dar click en cerrar
                    • Pasar todo esto a una funcion mas organizada
                */
                video.play()

                document.getElementById('video-id').style.background = 'transparent'

                var wrapper = document.getElementById('wrapper')
                var player = document.getElementById('player')
                var header = document.createElement('div')
                var closeButton = document.createElement('img')
                var logo = document.createElement('img')
                var menu = document.createElement('div')

                menu.style = 'position: absolute;right: -15px;top: 15px;'

                var menuHTML = ''

                menuHTML = '<ul>'
                menuHTML += '<li class="active" id="videosItem"><a href="#">Videos</a></li>'
                menuHTML += '<li id="saveCalendarItem"><a href="#">Guardar en calendario</a></li>'
                menuHTML += '<li id="synopsisItem"><a href="#">Sinopsis</a></li>'
                menuHTML += '</ul>'

                menu.innerHTML = menuHTML
                menu.id = "menu"

                document.getElementById('paper').remove()

                closeButton.style = 'float:right;width:10px;height:10px;margin:5px;cursor: pointer;'
                closeButton.src = 'assets/close.png'

                header.id = "header"
                header.style =
                    'width:100%;height:40px;text-align: center;'

                logo.src = 'assets/logo.png'
                logo.style = 'width:100px;float:left;margin: 10px;'

                wrapper.style =
                    'position: fixed;background-image: url(assets/background-mobile.png);height: 100%;top: 0px;background-size: cover;background-repeat: no-repeat;width: 100%;'

                /* demo */

                document.getElementById('container').style.padding = '20px 0px'

                /* demo */

                // efecto achicarse
                player.style.height = '100%'
                player.style.height = '230px'


                // BANNERS

                var bottom_container = document.createElement('div')
                var bottom_left = document.createElement('div')
                var bottom_right = document.createElement('div')
                var VisitPageButton = document.createElement('a')
                var powered = document.createElement('img')

                powered.src = 'assets/powered.png'
                powered.style = 'position:absolute;bottom: 10px; right: 10px;'

                bottom_container.style =
                    'width: 330px;margin: 0px auto; bottom: 130px;position: absolute;left: 0;right: 0;'

                bottom_left.style =
                    'letter-spacing: 5px;color: rgb(255, 226, 0);font-family: steelfishEb;font-size: 20px;width: 100px;text-align: center;margin: 15px;float: left;margin-right: 20px;'
                bottom_right.style =
                    'float: left;width: 150px;text-align: center;margin: 10px 15px;padding: 5px 0;border-top: 3px solid #f9f9cd;border-bottom: 3px solid #f9f9cd;'

                var bottom_left_HTML = ''

                bottom_left_HTML += '<img src="assets/logo.png" width="100px"/>'
                bottom_left_HTML += '<span>#HELLBOY</span>'
                bottom_left_HTML +=
                    '<a href="https://www.facebook.com/hellboymovie/" style="float:left;margin-left: 5px;" target="_blank"><img src="assets/fb.png"/></a>'
                bottom_left_HTML +=
                    '<a href="https://twitter.com/hellboymovie" style="float:left;margin: 0px 20px;" target="_blank"><img src="assets/tw.png"/></a>'
                bottom_left_HTML +=
                    '<a href="https://www.instagram.com/hellboymovie" style="float:left" target="_blank"><img src="assets/ig.png"/></a>'

                bottom_left.innerHTML = bottom_left_HTML

                var bottom_right_HTML = ''

                bottom_right_HTML = '<img src="assets/date.png" width="150px" />'

                bottom_right.innerHTML = bottom_right_HTML

                VisitPageButton.style =
                    'position: absolute;bottom: 70px;margin: 0 auto;display: block;width: 200px;left: 0;right: 0;height: 45px;border: 1px solid rgb(255, 225, 0);color: rgb(255, 225, 0);font-size: 16px;font-family: bahnschrift;text-transform: uppercase;text-align: center;line-height: 45px;cursor: pointer;text-decoration: none;'

                VisitPageButton.innerText = 'Visitar pagina web'
                VisitPageButton.href = 'https://www.hellboy.movie/'
                VisitPageButton.target = '_blank'
                VisitPageButton.id = 'visitPageButton'


                bottom_container.appendChild(bottom_left)
                bottom_container.appendChild(bottom_right)

                wrapper.appendChild(VisitPageButton)

                wrapper.appendChild(powered)

                header.appendChild(closeButton)
                header.appendChild(logo)
                wrapper.insertBefore(header, wrapper.firstChild);
                wrapper.appendChild(bottom_container)
                wrapper.appendChild(menu)

                document.getElementById('thumbnail-videos').style.display = 'block'

                var video_wrapper = document.getElementById('fluid_video_wrapper_video-id')

                document.getElementById('synopsisItem').addEventListener('click', function (e) {

                    var player = document.getElementById('player')

                    e.preventDefault()
                    document.getElementById('video-id').pause()
                    removeIfExists(['saveCalendarDropdown'])
                    document.getElementsByClassName('active')[0].classList.remove('active')
                    document.getElementById('synopsisItem').classList.add('active')

                    video_wrapper.style.display = 'none'
                    document.getElementById('thumbnail-videos').style.display = 'none'

                    var synopsis = document.createElement('div')

                    synopsis.style =
                        'color: #fef9d1;width: 90%;padding: 10px;font-size: 12px;font-family: bahnschrift;text-transform: uppercase;line-height: 22px;'
                    synopsis.id = 'synopsis'
                    var synopsisHTML = ''
                    synopsisHTML +=
                        '<p style="font-size: 25px;margin-bottom: 0px;color: #ffe100;">Vuelve Hellboy,</p>'
                    synopsisHTML +=
                        "<p>el gran demonio de piel roja, con cola, cuernos y un brazo de piedra. Atrapado entre los mundos de lo sobrenatural y lo humano, el apodado como 'El más grande Investigador de lo Paranormal del Mundo' junto con la Agencia para la Investigación y Defensa Paranormal (A.I.D.P.) tendrán un nuevo y peligroso desafío. Su misión será enfrentarse a una nueva y poderosa amenaza: Nimue (Milla Jovovich), conocida como La Reina de la Sangre, un espíritu ancestral de la época del rey Arturo que ha vuelto a nuestro mundo llena de sed de venganza para sembrar el terror y destruir a la raza humana.</p>"
                    synopsis.innerHTML = synopsisHTML

                    player.appendChild(synopsis)
                })

                document.getElementById('videosItem').addEventListener('click', function (e) {
                    e.preventDefault()
                    document.getElementById('video-id').pause()
                    removeIfExists(['saveCalendarDropdown', 'synopsis'])
                    document.getElementsByClassName('active')[0].classList.remove('active')
                    document.getElementById('videosItem').classList.add('active')

                    video_wrapper.style.display = 'block'
                    document.getElementById('thumbnail-videos').style.display = 'block'
                })

                document.getElementById('saveCalendarItem').addEventListener('click', function (e) {
                    e.preventDefault()
                    if (!document.getElementById('saveCalendarDropdown')) {
                        document.getElementsByClassName('active')[0].classList.remove(
                            'active')
                        document.getElementById('saveCalendarItem').classList.add('active')

                        var dropdown = document.createElement('div')
                        dropdown.style =
                            'background: rgb(0, 0, 0);width: 260px;height: 153px;position: absolute;top: 60px;right: 5px;z-index: 99;'
                        dropdown.id = "saveCalendarDropdown"
                        dropdownHTML = ''
                        dropdownHTML +=
                            '<a href="#" class="dropdown-link">Google Calendar</a>'
                        dropdownHTML += '<a href="#" class="dropdown-link">Apple iCal</a>'
                        dropdownHTML +=
                            '<a href="#" class="dropdown-link">Microsoft Outlook</a>'
                        dropdown.innerHTML = dropdownHTML
                        wrapper.appendChild(dropdown)
                    } else {
                        document.getElementById('saveCalendarDropdown').remove()

                        document.getElementById('saveCalendarItem').classList.remove(
                            'active')

                        if (document.getElementById('synopsis')) {
                            document.getElementById('fluid_video_wrapper_video-id').style
                                .display

                            document.getElementById('synopsisItem').classList.add(
                                'active')

                        } else {
                            document.getElementById('videosItem').classList.add(
                                'active')
                        }
                    }
                })

                closeButton.addEventListener('click', function () {
                    console.log('close')
                })

            }

        }

        var hidePlayerButtons = function () {
            var hide = "display:none"

            var fullscreen = document.getElementById('video-id_fluid_control_fullscreen')
            fullscreen.style = hide
            var theatre = document.getElementById('video-id_fluid_control_theatre')
            theatre.style = hide
            var progress = document.getElementById('video-id_fluid_control_duration')
            progress.style = hide
        }

        var options = {
            layoutControls: {
                primaryColor: "#d9c408",
                fillToContainer: true,
                posterImage: "assets/poster.png",
                persistentSettings: {
                    volume: false
                },
                autoPlay: false,
                mute: true,
                playerInitCallback: (function () {
                    hidePlayerButtons()
                    document.getElementById('video-id_fluid_controls_container').style.display = 'none'
                    document.getElementById('video-id_fluid_initial_play').style =
                        'cursor:none;display:none'

                    var unmuteButton = document.createElement('div')

                    unmuteButton.innerHTML = '<img src="assets/unmute.png" width="80px">'
                    unmuteButton.id = 'video-id_fluid_initial_play'

                    var initial_play = document.getElementById('video-id_fluid_initial_play_button')

                    initial_play.insertBefore(unmuteButton, initial_play.firstChild)


                    var paper = document.createElement('img')
                    paper.src = 'assets/paper.png'
                    paper.style =
                        'position: absolute;bottom: 0px;right: 0px;z-index: 99;cursor:pointer;width: 120px;'
                    paper.id = 'paper'

                    paper.addEventListener('click', tapOnVideo)
                    document.getElementById('fluid_video_wrapper_video-id').appendChild(paper)

                    var videoPlayer = document.getElementById('video-id')
                    //videoPlayer.addEventListener('click', tapOnVideo)
                })
            }
        }
        var video = fluidPlayer("video-id", options);
    </script>
</body>

</html>